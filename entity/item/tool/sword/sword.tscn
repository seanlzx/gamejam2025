[gd_scene load_steps=14 format=3 uid="uid://dg2ay566pku3b"]

[ext_resource type="Script" uid="uid://dg2a0it1omkae" path="res://entity/item/tool/sword/sword.gd" id="1_ml0ls"]
[ext_resource type="Texture2D" uid="uid://dlsfi6hw782e7" path="res://entity/item/tool/sword/sword.png" id="1_vluye"]
[ext_resource type="PackedScene" uid="uid://ckn23fmmjtbrl" path="res://entity/item/utiltity/pickup_tooltip.tscn" id="3_vywb3"]
[ext_resource type="Script" uid="uid://ccm2rp5lftjg4" path="res://entity/item/utiltity/pickup_state.gd" id="4_vywb3"]
[ext_resource type="Script" uid="uid://cb4rthp1hyv1k" path="res://entity/item/utiltity/inventory_state.gd" id="5_ml0ls"]
[ext_resource type="Script" uid="uid://5yk8ytgxsq2l" path="res://entity/item/utiltity/equipped_state.gd" id="6_v62ye"]

[sub_resource type="Animation" id="Animation_v62ye"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_5xplp"]
resource_name = "parry_left_2"
length = 0.15
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(27.6324, 28.9099)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.57869]
}

[sub_resource type="Animation" id="Animation_nsmpb"]
resource_name = "parry_right"
length = 0.15
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-27.632, 28.91)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, -1.5708]
}

[sub_resource type="Animation" id="Animation_t2ssa"]
resource_name = "stab"
length = 0.3
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(0, -35), Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_ml0ls"]
resource_name = "swing_left"
length = 0.3
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(27.6324, 28.9099), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, 1.57869, 0.0]
}

[sub_resource type="Animation" id="Animation_2qdrn"]
resource_name = "swing_right"
length = 0.3
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-27.632, 28.91), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [0.0, -1.5708, 0.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_8v2lk"]
_data = {
&"RESET": SubResource("Animation_v62ye"),
&"parry_left_2": SubResource("Animation_5xplp"),
&"parry_right": SubResource("Animation_nsmpb"),
&"stab": SubResource("Animation_t2ssa"),
&"swing_left": SubResource("Animation_ml0ls"),
&"swing_right": SubResource("Animation_2qdrn")
}

[node name="Sword" type="RigidBody2D"]
collision_layer = 2
collision_mask = 2
script = ExtResource("1_ml0ls")

[node name="ItemSprite" type="Sprite2D" parent="."]
texture = ExtResource("1_vluye")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(-2, 0, -1, -26, 3, -26, 5, -2, 6, 12, 18, 13, 17, 18, 5, 17, 2, 30, -3, 30, -2, 17, -12, 18, -13, 12, -3, 12)

[node name="PickupTooltip" parent="." instance=ExtResource("3_vywb3")]

[node name="States" type="Node" parent="."]

[node name="PickupState" type="Node" parent="States"]
script = ExtResource("4_vywb3")

[node name="InventoryState" type="Node" parent="States"]
script = ExtResource("5_ml0ls")

[node name="EquippedState" type="Node" parent="States"]
script = ExtResource("6_v62ye")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_8v2lk")
}
